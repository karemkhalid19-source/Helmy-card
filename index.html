<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Helmy Card - Ø³Ø­Ø¨ Ø§Ù„Ø±Ø§ØªØ¨</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap');
        :root { --accent: #00d2ff; --secondary: #3a7bd5; --glass: rgba(255, 255, 255, 0.05); }
        
        body {
            font-family: 'Tajawal', sans-serif;
            background: radial-gradient(circle at top left, #1e293b, #0f172a);
            color: #f8fafc; margin: 0; display: flex; align-items: center; justify-content: center; min-height: 100vh; padding: 20px;
        }

        .form-card {
            background: var(--glass); backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 25px;
            padding: 25px; width: 100%; max-width: 500px; box-shadow: 0 25px 50px rgba(0,0,0,0.5);
        }

        .header { text-align: center; margin-bottom: 20px; }
        .header h1 { font-size: 26px; background: linear-gradient(to right, var(--accent), var(--secondary)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin: 0; }
        .warning-text { color: #ff4d4d; font-weight: bold; font-size: 14px; margin-top: 8px; display: block; }
        .intro-text { font-size: 13px; color: #94a3b8; line-height: 1.6; margin-top: 10px; }
        .copy-box { background: rgba(255,255,255,0.1); padding: 10px; border-radius: 10px; border: 1px dashed var(--accent); margin-top: 10px; font-size: 14px; }

        .input-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 6px; font-size: 13px; color: var(--accent); font-weight: bold; }
        
        input, select {
            width: 100%; background: rgba(15, 23, 42, 0.7); border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px; padding: 12px; color: white; font-size: 15px; box-sizing: border-box; outline: none;
        }

        .radio-group { display: flex; gap: 15px; margin-top: 5px; }
        .radio-option { flex: 1; position: relative; }
        .radio-option input { position: absolute; opacity: 0; }
        .radio-option label {
            background: rgba(15, 23, 42, 0.6); border: 1px solid rgba(255,255,255,0.1);
            padding: 12px; border-radius: 12px; text-align: center; cursor: pointer; display: block; color: #fff; transition: 0.3s;
        }
        .radio-option input:checked + label { border-color: var(--accent); background: rgba(0, 210, 255, 0.2); }

        .calc-box { background: rgba(0, 210, 255, 0.1); padding: 15px; border-radius: 15px; text-align: center; margin: 15px 0; border: 1px solid rgba(0, 210, 255, 0.2); }
        .calc-value { font-size: 22px; font-weight: 700; color: #fff; }
        .calc-sub { font-size: 16px; color: var(--accent); margin-top: 5px; }

        button {
            width: 100%; padding: 16px; background: linear-gradient(to right, #00d2ff, #3a7bd5);
            border: none; border-radius: 12px; color: white; font-size: 18px; font-weight: 700; cursor: pointer; transition: 0.3s;
        }

        /* ØªÙ†Ø³ÙŠÙ‚ Ù‚Ø³Ù… Ø®Ø¯Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ */
        .support-section { text-align: center; margin-top: 20px; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 15px; }
        .thanks-msg { font-size: 14px; color: #f8fafc; margin-bottom: 8px; }
        .support-msg { font-size: 12px; color: #ff4d4d; font-weight: bold; margin-bottom: 12px; }
        .whatsapp-btn {
            display: inline-flex; align-items: center; justify-content: center; background: #25D366; color: white; 
            text-decoration: none; padding: 10px 20px; border-radius: 10px; font-weight: bold; font-size: 14px; transition: 0.3s;
        }
        .whatsapp-btn:hover { background: #1eb954; transform: scale(1.02); }

        #invoiceOverlay {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9); backdrop-filter: blur(10px); z-index: 1000; align-items: center; justify-content: center;
        }
        .invoice-box { background: white; color: #333; width: 85%; max-width: 380px; padding: 25px; border-radius: 20px; text-align: center; }
        .invoice-row { display: flex; justify-content: space-between; margin-bottom: 10px; border-bottom: 1px solid #eee; padding-bottom: 5px; font-size: 14px; }
    </style>
</head>
<body>

<div class="form-card">
    <div class="header">
        <h1>Helmy Card ğŸ”—</h1>
        <span class="warning-text">ÙŠØ³ØªØºØ±Ù‚ ØªØ§ÙƒÙŠØ¯ Ø§Ù„ØªØ§Ø±Ø¬Øª ÙˆØ§Ø±Ø³Ù„ Ø§Ù„Ø§Ù…ÙˆØ§Ù„ 24 Ø³Ø§Ø¹Ù‡</span>
        <div class="intro-text">
            Ø¨Ø¹Ø¯ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø³Ø­Ø¨ Ø£Ù†Øª ØªÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ Ø´Ø±ÙˆØ· Ø§Ù„Ø®Ø¯Ù…Ø© Ø´ÙƒØ±Ø§Ù‹ Ù„Ø«Ù‚ØªÙƒÙ… _ Helmy card
        </div>
        <div class="copy-box">
            ID Ø³Ø­Ø¨ Ø§ÙƒØ³ÙŠÙ†Ø§: <b id="adminId">18024703</b><br>
            Ø§Ù„Ø§Ø³Ù…: <b>ÙŠØ­ÙŠÙ‰</b><br>
            <small>Ø§Ù†Ø³Ø® Ø§Ù„Ø§ÙŠØ¯ÙŠ ÙˆØ§Ø±Ø³Ù„ Ø§Ù„Ø±Ø§ØªØ¨ ğŸ‘†</small>
        </div>
    </div>

    <div class="input-group">
        <label>Ù†ÙˆØ¹ Ø§Ù„Ø­Ø³Ø§Ø¨ / Ø§Ù„Ø¯ÙˆÙ„Ø©</label>
        <div class="radio-group">
            <div class="radio-option">
                <input type="radio" name="country_type" id="egypt" value="Ù…ØµØ±ÙŠ" checked onclick="calculate()">
                <label for="egypt">Ù…ØµØ±ÙŠ</label>
            </div>
            <div class="radio-option">
                <input type="radio" name="country_type" id="khaleeji" value="Ø®Ù„ÙŠØ¬ÙŠ" onclick="calculate()">
                <label for="khaleeji">Ø®Ù„ÙŠØ¬ÙŠ</label>
            </div>
        </div>
    </div>

    <div class="input-group">
        <label>ID Ø§Ù„Ø­Ø³Ø§Ø¨ (Ø§Ù„Ø£ÙŠØ¯ÙŠ)</label>
        <input type="text" id="user_id" placeholder="Ø£Ø¯Ø®Ù„ ID Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ" required>
    </div>

    <div class="input-group">
        <label>Ø±Ù‚Ù… Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
        <input type="tel" id="whatsapp" placeholder="01xxxxxxxxx">
    </div>

    <div class="input-group">
        <label>Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹</label>
        <select id="method">
            <option value="ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´">ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´</option>
            <option value="Ø§ØªØµØ§Ù„Ø§Øª ÙƒØ§Ø´">Ø§ØªØµØ§Ù„Ø§Øª ÙƒØ§Ø´</option>
            <option value="Ø£ÙˆØ±Ù†Ø¬ ÙƒØ§Ø´">Ø£ÙˆØ±Ù†Ø¬ ÙƒØ§Ø´</option>
        </select>
    </div>

    <div class="input-group">
        <label>Ø¹Ø¯Ø¯ Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ù…Ø±Ø§Ø¯ Ø³Ø­Ø¨Ù‡Ø§</label>
        <input type="number" id="points" placeholder="Ù…Ø«Ø§Ù„: 9100" oninput="calculate()">
    </div>

    <div class="calc-box">
        <div class="calc-value" id="res-usd">0.00 $</div>
        <div class="calc-sub" id="res-egp">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: 0.00 Ø¬.Ù…</div>
    </div>

    <div class="input-group">
        <label>Ø±Ù‚Ù… Ø§Ù„Ù…Ø­ÙØ¸Ø© Ù„Ù„Ø§Ø³ØªÙ„Ø§Ù…</label>
        <input type="text" id="wallet" placeholder="Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø°ÙŠ Ø³ÙŠØµÙ„Ùƒ Ø¹Ù„ÙŠÙ‡ Ø§Ù„Ù…Ø¨Ù„Øº" required>
    </div>

    <button onclick="submitForm()" id="submitBtn">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù† ğŸš€</button>

    <div class="support-section">
        <p class="thanks-msg">Ø´ÙƒØ±Ø§Ù‹ Ù„Ø«Ù‚ØªÙƒ ÙˆØ§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Helmy Card ğŸ”—</p>
        <p class="support-msg">Ø§Ø°Ø§ ÙˆØ§Ø¬Ù‡Øª Ù…Ø´ÙƒÙ„Ù‡ Ù„Ø§ ØªØªØ±Ø¯Ø¯ Ù Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø®Ø¯Ù…Ù‡ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</p>
        <a href="https://wa.me/201211511517" target="_blank" class="whatsapp-btn">
            ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø®Ø¯Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
        </a>
    </div>
</div>

<div id="invoiceOverlay">
    <div class="invoice-box">
        <h2 style="color:#1a73e8; margin-top:0;">Helmy Card ğŸ”—</h2>
        <div id="inv-date" style="font-size:11px; color:#666; margin-bottom:15px;"></div>
        <div class="invoice-row"><span>ID Ø§Ù„Ø­Ø³Ø§Ø¨:</span><b id="inv-uid"></b></div>
        <div class="invoice-row"><span>Ø§Ù„Ù…Ø¨Ù„Øº Ø¨Ø§Ù„Ù…ØµØ±ÙŠ:</span><b id="inv-egp" style="color:#2d8a2d;"></b></div>
        
        <p style="font-size: 13px; color: #555; margin-top: 15px;">Ø´ÙƒØ±Ø§Ù‹ Ù„Ø«Ù‚ØªÙƒ ÙˆØ§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Helmy Card ğŸ”—</p>
        <p style="font-size: 12px; color: #ff4d4d; font-weight: bold;">Ø§Ø°Ø§ ÙˆØ§Ø¬Ù‡Øª Ù…Ø´ÙƒÙ„Ù‡ Ù„Ø§ ØªØªØ±Ø¯Ø¯ Ù Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø®Ø¯Ù…Ù‡ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</p>
        
        <a href="https://wa.me/201211511517" target="_blank" class="whatsapp-btn">
            ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø®Ø¯Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
        </a>

        <button onclick="location.reload()" style="background:#333; color:white; border:none; width:100%; padding:12px; border-radius:10px; margin-top:15px; cursor:pointer;">Ø¥ØºÙ„Ø§Ù‚</button>
    </div>
</div>

<script>
    function calculate() {
        const pts = document.getElementById('points').value;
        const isEgypt = document.getElementById('egypt').checked;
        const usd = (pts / 9100).toFixed(2);
        const rate = isEgypt ? 45 : 46;
        const egp = (usd * rate).toFixed(2);
        document.getElementById('res-usd').innerText = pts > 0 ? usd + " $" : "0.00 $";
        document.getElementById('res-egp').innerText = pts > 0 ? "Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: " + egp + " Ø¬.Ù…" : "Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: 0.00 Ø¬.Ù…";
    }

    async function submitForm() {
        const btn = document.getElementById('submitBtn');
        const token = "8493256102:AAFuFPixyivycVPImhz7dMAtpcP0-NsZMpk";
        const chat_id = "7054064246";
        const now = new Date();
        const dateStr = now.toLocaleString('ar-EG');
        
        const ptsValue = document.getElementById('points').value;
        const isEgypt = document.getElementById('egypt').checked;
        const usdVal = (ptsValue / 9100).toFixed(2);
        const rate = isEgypt ? 45 : 46;
        const egpVal = (usdVal * rate).toFixed(2);

        const data = {
            uid: document.getElementById('user_id').value,
            type: document.querySelector('input[name="country_type"]:checked').value,
            wa: document.getElementById('whatsapp').value || "ØºÙŠØ± Ù…Ø³Ø¬Ù„",
            mt: document.getElementById('method').value,
            pts: ptsValue,
            wal: document.getElementById('wallet').value,
            usd: usdVal + " $",
            egp: egpVal + " Ø¬.Ù…",
            time: dateStr
        };

        if(!data.uid || !data.pts || !data.wal) { alert("Ø£ÙƒÙ…Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©!"); return; }
        btn.disabled = true; btn.innerText = "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„...";

        const msg = `ğŸ§¾ *Ø·Ù„Ø¨ Ø³Ø­Ø¨ Ø¬Ø¯ÙŠØ¯*\n\nğŸ†” *ID:* ${data.uid}\nğŸŒ *Ø§Ù„Ù†ÙˆØ¹:* ${data.type}\nğŸ’° *Ø§Ù„Ù†Ù‚Ø§Ø·:* ${data.pts}\nğŸ’µ *Ø§Ù„Ù…Ø¨Ù„Øº:* ${data.usd}\nğŸ‡ªğŸ‡¬ *Ø§Ù„Ù…ØµØ±ÙŠ:* ${data.egp}\nğŸ’³ *Ø§Ù„Ø·Ø±ÙŠÙ‚Ø©:* ${data.mt}\nğŸ¦ *Ø§Ù„Ù…Ø­ÙØ¸Ø©:* ${data.wal}\nğŸ“± *ÙˆØ§ØªØ³Ø§Ø¨:* ${data.wa}\nâ° *Ø§Ù„ØªØ§Ø±ÙŠØ®:* ${data.time}`;

        try {
            await fetch(`https://api.telegram.org/bot${token}/sendMessage?chat_id=${chat_id}&text=${encodeURIComponent(msg)}&parse_mode=Markdown`);
            await fetch('https://sheetdb.io/api/v1/w00q17tpeju22', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ data: [{
                    "Ø§Ù„Ø£ÙŠØ¯ÙŠ": data.uid,
                    "Ø§Ù„Ù†ÙˆØ¹": data.type,
                    "Ø§Ù„Ù†Ù‚Ø§Ø·": data.pts,
                    "Ø§Ù„Ø¯ÙˆÙ„Ø§Ø±": data.usd,
                    "Ø§Ù„Ù…ØµØ±ÙŠ": data.egp,
                    "Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø³Ø­Ø¨": data.mt,
                    "Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­ÙØ¸Ø©": "'" + data.wal,
                    "Ø±Ù‚Ù… Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨": "'" + data.wa,
                    "Ø§Ù„ØªØ§Ø±ÙŠØ®": data.time
                }]})
            });

            document.getElementById('inv-date').innerText = data.time;
            document.getElementById('inv-uid').innerText = data.uid;
            document.getElementById('inv-egp').innerText = data.egp;
            document.getElementById('invoiceOverlay').style.display = 'flex';
        } catch (e) { 
            alert("Ø­Ø¯Ø« Ø®Ø·Ø£!"); 
            btn.disabled = false; btn.innerText = "Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù† ğŸš€";
        }
    }
</script>
</body>
</html>

